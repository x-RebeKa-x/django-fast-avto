{% extends "cars/base.html" %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/payment_page.css' %}">
{% endblock %}

{% block content %}
<div class="confirmation-container">
    <div class="header">
        <h1>Подтверждение бронирования</h1>
    </div>

    <div class="content">
        <div class="booking-details">
            <h2 class="section-title">Детали бронирования</h2>

            <div class="detail-item">
                <span class="label">Автомобиль:</span>
                <span class="value">{{ car.name }}</span>
            </div>

            <div class="detail-item">
                <span class="label">Адрес получения:</span>
                <span class="value">{{ booking.address }}</span>
            </div>

            <div class="detail-item">
                <span class="label">Дата и время получения:</span>
                <span class="value">{{ booking.date }} в {{ booking.time }}</span>
            </div>

            <div class="detail-item">
                <span class="label">Дата и время возврата:</span>
                <span class="value">{{ booking.date_end }} в {{ booking.time_end }}</span>
            </div>

            <div class="detail-item">
                <span class="label">Длительность аренды:</span>
                <span class="value">{{ booking.days }} {{ booking.days_word }}</span>
            </div>

            <div class="detail-item">
                <span class="label">Цена за день:</span>
                <span class="value">{{ car.price }} ₽</span>
            </div>

            <div class="detail-item total">
                <span class="label">ИТОГО К ОПЛАТЕ:</span>
                <span class="value">{{ booking.total_price }} ₽</span>
            </div>

        </div>

        <div class="card-details">
            <h2>Данные карты</h2>

            <form method="post" action="{% url 'cars:basket_add' car.id %}">
                {% csrf_token %}

                <input type="hidden" name="car_id" value="{{ car.id }}">
                <input type="hidden" name="address" value="{{ address }}">
                <input type="hidden" name="date" value="{{ date }}">
                <input type="hidden" name="time" value="{{ time }}">
                <input type="hidden" name="date_end" value="{{ date_end }}">
                <input type="hidden" name="time_end" value="{{ time_end }}">
                <input type="hidden" name="total_price" value="{{ total_price }}">

                <div class="form-group">
                    <label>Номер карты</label>
                    <input type="text" name="card_number" placeholder="1234 5678 9012 3456" required>
                </div>

                <div class="form-row">
                    <div class="form-group half">
                        <label>Срок действия</label>
                        <input type="text" name="expiry" placeholder="MM/YY" required>
                    </div>
                    <div class="form-group half">
                        <label>CVV</label>
                        <input type="text" name="cvv" placeholder="123" required>
                    </div>
                </div>

                <div class="form-group">
                    <label>Имя владельца</label>
                    <input type="text" name="cardholder" required>
                </div>

                <button type="submit" class="pay-btn">Оплатить {{ total_price }} ₽</button>
            </form>
        </div>
        <div class="cash-confirmation">
            <form method="post" action="{% url 'cars:basket_add' car.id %}">
                {% csrf_token %}
                <input type="hidden" name="car_id" value="{{ car.id }}">
                <input type="hidden" name="address" value="{{ address }}">
                <input type="hidden" name="date" value="{{ date }}">
                <input type="hidden" name="time" value="{{ time }}">
                <input type="hidden" name="date_end" value="{{ date_end }}">
                <input type="hidden" name="time_end" value="{{ time_end }}">
                <input type="hidden" name="total_price" value="{{ total_price }}">

                <button type="submit" class="confirm-btn">Оплатить наличными</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}

{% block footer %}
{% endblock %}
